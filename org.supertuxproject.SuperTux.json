{
	"app-id": "org.supertuxproject.SuperTux",
	"runtime": "org.freedesktop.Platform",
	"runtime-version": "1.6",
	"sdk": "org.freedesktop.Sdk",
	"command": "supertux2",
	"rename-icon": "supertux",
	"rename-desktop-file": "supertux2.desktop",
	"rename-appdata-file": "supertux2.appdata.xml",
	"finish-args":
	[
		"--socket=wayland",
		"--socket=x11",
		"--share=ipc",
		"--socket=pulseaudio",
		"--share=network",
		"--device=all"
	],
	"cleanup": [
		"/include",
		"/lib/pkgconfig",
		"/share/aclocal",
		"/share/man",
		"/share/doc",
		"*.la",
		"*.a"
	],
	"modules": [
		{
			"name": "fribidi",
			"sources": [
				{
					"type": "archive",
					"url": "https://github.com/fribidi/fribidi/releases/download/v1.0.5/fribidi-1.0.5.tar.bz2",
					"sha256": "6a64f2a687f5c4f203a46fa659f43dd43d1f8b845df8d723107e8a7e6158e4ce"
				}
			]
		},
		{
			"name": "raqm",
			"sources": [
				{
					"type": "git",
					"url": "https://github.com/HOST-Oman/libraqm/releases/download/v0.5.0/raqm-0.5.0.tar.gz",
					"sha256": "a06036ad6bd0abdc656de0b4189cc7f397ec1beb17061012732e32761a02c989"
				}
			]
	    },
		"shared-modules/glu/glu-9.0.0.json",
		"shared-modules/glew/glew.json",
		{
			"name": "boost",
			"buildsystem": "simple",
			"sources":
			[
				{
					"type": "archive",
					"url": "https://downloads.sourceforge.net/project/boost/boost/1.66.0/boost_1_66_0.tar.bz2",
					"sha256": "5721818253e6a0989583192f96782c4a98eb6204965316df9f5ad75819225ca9"
				}
			],
			"build-commands": ["./bootstrap.sh --prefix=/app --with-libraries=date_time,filesystem,locale", "./b2 headers", "./b2 install"]
		},
		{
			"name": "supertux",
			"buildsystem": "cmake",
			"config-opts": ["-DINSTALL_SUBDIR_SHARE=share/supertux2", "-DINSTALL_SUBDIR_BIN=bin", "-DCMAKE_BUILD_TYPE=\"Release\""],
			"sources":
		    [
		                {
        	        		"type": "git",
			                "url": "https://github.com/SuperTux/supertux.git",
			                "branch": "master"
		                },
				{
					"type": "file",
					"path": "supertux-64x64.png"
				},
				{
					"type": "file",
					"path": "supertux-128x128.png"
				},
				{
					"type": "shell",
					"commands": [
						"install -Dm644 data/images/engine/icons/supertux.png /app/share/icons/hicolor/48x48/apps/supertux.png",
						"install -Dm644 supertux-64x64.png /app/share/icons/hicolor/64x64/apps/supertux.png",
						"install -Dm644 supertux-128x128.png /app/share/icons/hicolor/128x128/apps/supertux.png",
						"install -Dm644 data/images/engine/icons/supertux-256x256.png /app/share/icons/hicolor/256x256/apps/supertux.png"
					]
				}
			]
		}
	]
}
