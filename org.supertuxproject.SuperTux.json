{
	"app-id": "org.supertuxproject.SuperTux",
	"runtime": "org.freedesktop.Platform",
	"runtime-version": "1.6",
	"sdk": "org.freedesktop.Sdk",
	"command": "supertux2",
	"rename-icon": "supertux",
	"rename-desktop-file": "supertux2.desktop",
	"rename-appdata-file": "supertux2.appdata.xml",
	"finish-args":
	[
		"--socket=wayland",
		"--socket=x11",
		"--socket=pulseaudio",
		"--share=network",
		"--device=dri"
	],
	"cleanup": [
		"/include",
		"/lib/pkgconfig",
		"/share/aclocal",
		"/share/man",
		"/share/doc",
		"*.la",
		"*.a"
	],
	"modules": [
		"shared-modules/glu/glu-9.0.0.json",
		"shared-modules/glew/glew.json",
		{
			"name": "boost",
			"buildsystem": "simple",
			"sources":
			[
				{
					"type": "archive",
					"url": "https://downloads.sourceforge.net/project/boost/boost/1.60.0/boost_1_60_0.tar.bz2",
					"sha256": "686affff989ac2488f79a97b9479efb9f2abae035b5ed4d8226de6857933fd3b"
				}
			],
			"build-commands": ["./bootstrap.sh --prefix=/app --with-libraries=date_time,filesystem", "./b2 headers", "./b2 install"]
		},
		{
			"name": "glbinding",
			"buildsystem": "cmake",
			"sources":
			[
				{
					"type":"archive",
					"url": "https://github.com/cginternals/glbinding/archive/v2.1.1.tar.gz",
					"sha256": "cf5f32aa09c3427b0f5c9626fe83aa1473da037d55b6f14f8753b2d9159cc91d"
				}
			]
		},
		{
			"name": "supertux",
			"buildsystem": "cmake",
			"config-opts": ["-DINSTALL_SUBDIR_SHARE=share/supertux2", "-DINSTALL_SUBDIR_BIN=bin", "-DCMAKE_BUILD_TYPE=\"Release\""],
			"sources":
			[
				{
					"type":"archive",
					"url": "https://github.com/SuperTux/supertux/releases/download/v0.5.1/SuperTux-v0.5.1-Source.tar.gz",
					"sha256": "c9dc3b42991ce5c5d0d0cb94e44c4ec2373ad09029940f0e92331e7e9ada0ac5"
				},
				{
					"type": "file",
					"path": "supertux-64x64.png"
				},
				{
					"type": "file",
					"path": "supertux-128x128.png"
				},
				{
					"type": "shell",
					"commands": [
						"install -Dm644 data/images/engine/icons/supertux.png /app/share/icons/hicolor/48x48/apps/",
						"install -Dm644 supertux-64x64.png /app/share/icons/hicolor/64x64/apps/supertux.png",
						"install -Dm644 supertux-128x128.png /app/share/icons/hicolor/128x128/apps/supertux.png",
						"install -Dm644 data/images/engine/icons/supertux-256x256.png /app/share/icons/hicolor/256x256/apps/supertux.png"
					]
				}
			]
		}
	]
}
